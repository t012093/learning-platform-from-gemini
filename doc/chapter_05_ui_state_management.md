# 第5章｜UIとゲーム状態管理

## 5-1. Unity UI (uGUI) の役割

### Canvas / Button / Text
*   **Canvas**: すべてのUIパーツが乗る画用紙。これが無いとUIは描画されません。
*   **Button**: クリック/タップ検知機能がついた画像。
*   **Text (TextMeshPro)**: 文字表示。現在は従来のTextではなく、高機能なTextMeshProを使うのが標準です。

### UIとロジックの分離
*   「ボタンが押された」という見た目の処理と、「ゲームを開始する」という内部ロジックは分けるべきです。
*   UIスクリプトは、単に「ボタンが押されたらGameManagerのStartGame関数を呼ぶ」という仲介役に徹するのが良い設計です。

## 5-2. ゲーム状態という考え方

### 待機 / プレイ / クリア / 終了
*   ゲームには必ず「状態（State）」があります。
    *   **Title**: タイトル画面。入力待ち。
    *   **InGame**: ゲーム中。キャラ操作可能。
    *   **Pause**: 一時停止。キャラ停止、メニュー表示。
    *   **Result**: 結果表示。
*   今どの状態かによって、コントローラー入力の可否や、時間の進行（Time.timeScale）を管理します。

### enumによる状態管理
*   `int state = 0;` (0がタイトル...) のようなマジックナンバー管理はやめましょう。
*   `public enum GameState { Title, Playing, Result }` のように列挙型(enum)を定義して使います。
*   AIにも「GameStateというenumを作って管理して」と指示すると、読みやすいコードになります。
